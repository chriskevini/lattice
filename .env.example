# ============================================================================
# DISCORD CONFIGURATION
# ============================================================================
# IMPORTANT: Use a SEPARATE bot application/token for Development and Production
# to avoid gateway connection conflicts.
DISCORD_TOKEN=your_bot_token_here

# Guild (Server) ID: Optional but recommended for validation
DISCORD_GUILD_ID=123456789012345678

# Main Channel: Primary user interaction
# DEV: Use a private test channel
# PROD: Use your public server channel
DISCORD_MAIN_CHANNEL_ID=123456789012345678

# Dream Channel: Meta activities and approvals
# DEV: Use a private test channel
# PROD: Use your public server dream channel
DISCORD_DREAM_CHANNEL_ID=987654321098765432

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# DEV: Use local docker (localhost/postgres)
# PROD: Use DigitalOcean managed DB or internal docker volume
POSTGRES_USER=lattice
POSTGRES_PASSWORD=lattice_dev_password
POSTGRES_DB=lattice
POSTGRES_HOST=localhost  # Use 'postgres' when running in Docker
POSTGRES_PORT=5432

# Connection string (Application uses this)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================================================
# AI/ML CONFIGURATION
# ============================================================================
LLM_PROVIDER=openrouter
OPENROUTER_API_KEY=sk-or-v1-xxxxx
OPENROUTER_MODEL=anthropic/claude-3.5-sonnet

# ============================================================================
# QUERY EXTRACTION (Issue #61 Phase 5 - Local Extraction Model)
# ============================================================================
# Local extraction model path (optional, enables low-latency extraction)
# Download: https://huggingface.co/google/functiongemma-270m-gguf
# If not set or file doesn't exist, falls back to OpenRouter API
# LOCAL_EXTRACTION_MODEL_PATH=./models/functiongemma-270m-q4_k_m.gguf

# Local model configuration (optional, defaults shown)
# LOCAL_EXTRACTION_MAX_CONTEXT=2048          # Max context length
# LOCAL_EXTRACTION_IDLE_TIMEOUT=30           # Unload after seconds idle
# LOCAL_EXTRACTION_MEMORY_LIMIT=300          # Max model memory (MB)
# LOCAL_EXTRACTION_GPU_LAYERS=0              # GPU layers (0 = CPU only)

# ============================================================================
# ENVIRONMENT-SPECIFIC FLAGS
# ============================================================================
# Set to 'production' on server, 'development' locally
ENVIRONMENT=development

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=INFO  # Use DEBUG for local dev, INFO/WARNING for prod
STRUCTURED_LOGS=true
LOG_FILE=logs/lattice.log
